<core:FragmentDefinition xmlns:f="sap.f"
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
    height="100%" >
    <Dialog
        contentHeight="100%"
        contentWidth="100%"
        class="sapUiResponsiveMargin"
        id="step2Dialog"
        title="{i18n>prepProcessStep2Text}">
        <PDFViewer
            showDownloadButton="false"
            height="30em"
            source="http://localhost:8080/files/prep_step1_instructions.pdf" />
        <Table>
            <columns>
                <Column vAlign="Middle">
                    <Text text="{i18n>step2Column1Text}"/>
                </Column>
                <Column vAlign="Middle" width="5rem">
                    <!-- <Text text="{i18n>step2Column2Text}" /> -->
                </Column>
                <Column vAlign="Middle" width="5rem">
                    <Text text="{i18n>step2Column2Text}"/>
                </Column>
                <Column vAlign="Middle" width="5rem">
                    <Text text="{i18n>step2Column3Text}" />
                </Column>
                <Column vAlign="Middle" width="11rem">
                    <!--<Text text="{i18n>step2Column4Text}" />-->
                </Column>
                <Column vAlign="Middle">
                    <Text text="{i18n>step2Column1Text}"/>
                </Column>
                <Column vAlign="Middle" width="5rem">
                    <!-- <Text text="{i18n>step2Column2Text}" /> -->
                </Column>
                <Column vAlign="Middle" width="5rem">
                    <Text text="{i18n>step2Column2Text}"/>
                </Column>
                <Column vAlign="Middle" width="5rem">
                    <Text text="{i18n>step2Column3Text}" />
                </Column>
                <Column vAlign="Middle" width="11rem">
                    <!--<Text text="{i18n>step2Column4Text}" />-->
                </Column>
            </columns>
            <items>
            <ColumnListItem>
                <cells>
                    <Text text="{i18n>step2Validation1Text}" />
                    <Text />
                    <Switch type="AcceptReject" state="{masterModel>/validations/step2/v1}" />
                    <Text text="{masterModel>/buttonTimer/1/timeValue}" id="timer1"/>
                    <Button 
                        id="timebtn1"
                        icon="sap-icon://future" 
                        text="{ path: 'masterModel&gt;/buttonTimer/1/started', formatter: '.formatter.statusTimer' }" 
                        press="onPressTimer"
                        enabled="{ path: 'masterModel&gt;/buttonTimer/1/complete', formatter: '.formatter.statusTimComp' }"></Button>
                    <!--<Input liveChange="true" value="{masterModel>/validations/step2/values/t1}" placeholder="Tiempo (minutos)" />-->
                    <Text text="{i18n>step2Validation2Text}" />
                    <Button icon="sap-icon://show" press="onVideoDetailsDialog" />
                    <Switch type="AcceptReject" state="{masterModel>/validations/step2/v2}" />
                    <Text text="{masterModel>/buttonTimer/2/timeValue}" id="timer2"/>
                    <Button
                        id="timebtn2"
                        icon="sap-icon://future"
                        text="{ path: 'masterModel&gt;/buttonTimer/2/started', formatter: '.formatter.statusTimer' }"
                        press="onPressTimer"
                        enabled="{ path: 'masterModel&gt;/buttonTimer/2/complete', formatter: '.formatter.statusTimComp' }"></Button>
                    <!--Input liveChange="true" value="{masterModel>/validations/step2/values/t2}" placeholder="Tiempo (minutos)" />-->
                </cells>
            </ColumnListItem>
            <ColumnListItem>
                <cells>
                    <Text text="{i18n>step2Validation3Text}" />
                    <Text />
                    <Switch type="AcceptReject" state="{masterModel>/validations/step2/v3}" />
                    <Text text="{masterModel>/buttonTimer/3/timeValue}" id="timer3"/>
                    <Button
                        id="timebtn3"
                        icon="sap-icon://future"
                        text="{ path: 'masterModel&gt;/buttonTimer/3/started', formatter: '.formatter.statusTimer' }"
                        press="onPressTimer"
                        enabled="{ path: 'masterModel&gt;/buttonTimer/3/complete', formatter: '.formatter.statusTimComp' }"></Button>
                    <!--<Input liveChange="true" value="{masterModel>/validations/step2/values/t3}" placeholder="Tiempo (minutos)" />-->
                    <Text text="{i18n>step2Validation4Text}" />
                    <Text />
                    <Switch type="AcceptReject" state="{masterModel>/validations/step2/v4}" />
                    <Text text="{masterModel>/buttonTimer/4/timeValue}" id="timer4"/>
                    <Button
                        id="timebtn4"
                        icon="sap-icon://future"
                        text="{ path: 'masterModel&gt;/buttonTimer/4/started', formatter: '.formatter.statusTimer' }" 
                        press="onPressTimer"
                        enabled="{ path: 'masterModel&gt;/buttonTimer/4/complete', formatter: '.formatter.statusTimComp' }"></Button>
                    <!--<Input liveChange="true" value="{masterModel>/validations/step2/values/t4}" placeholder="Tiempo (minutos)" />-->
                </cells>
            </ColumnListItem>
            <ColumnListItem>
                <cells>
                    <Text text="{i18n>step2Validation5Text}" />
                    <Text />
                    <Switch type="AcceptReject" state="{masterModel>/validations/step2/v5}" />
                    <Text text="{masterModel>/buttonTimer/5/timeValue}" id="timer5"/>
                    <Button 
                        id="timebtn5"
                        icon="sap-icon://future"
                        text="{ path: 'masterModel&gt;/buttonTimer/5/started', formatter: '.formatter.statusTimer' }"
                        press="onPressTimer"
                        enabled="{ path: 'masterModel&gt;/buttonTimer/5/complete', formatter: '.formatter.statusTimComp' }"></Button>
                    <!--<Input liveChange="true" value="{masterModel>/validations/step2/values/t5}" placeholder="Tiempo (minutos)" />-->
                    <Text text="{i18n>step2Validation6Text}" />
                    <Text />
                    <Switch type="AcceptReject" state="{masterModel>/validations/step2/v6}" />
                    <Text text="{masterModel>/buttonTimer/6/timeValue}" id="timer6"/>
                    <Button
                        id="timebtn6"
                        icon="sap-icon://future"
                        text="{ path: 'masterModel&gt;/buttonTimer/6/started', formatter: '.formatter.statusTimer' }"
                        press="onPressTimer"
                        enabled="{ path: 'masterModel&gt;/buttonTimer/6/complete', formatter: '.formatter.statusTimComp' }"></Button>
                    <!--<Input liveChange="true" value="{masterModel>/validations/step2/values/t6}" placeholder="Tiempo (minutos)" />-->
                </cells>
            </ColumnListItem>
            <ColumnListItem>
                <cells>
                    <Text text="{i18n>step2Validation7Text}" />
                    <Text />
                    <Switch type="AcceptReject" state="{masterModel>/validations/step2/v7}" />
                    <Text text="{masterModel>/buttonTimer/7/timeValue}" id="timer7"/>
                    <Button
                        id="timebtn7"
                        icon="sap-icon://future"
                        text="{ path: 'masterModel&gt;/buttonTimer/7/started', formatter: '.formatter.statusTimer' }"
                        press="onPressTimer"
                        enabled="{ path: 'masterModel&gt;/buttonTimer/7/complete', formatter: '.formatter.statusTimComp' }"></Button>
                    <!--<Input liveChange="true" value="{masterModel>/validations/step2/values/t7}" placeholder="Tiempo (minutos)" />-->
                </cells>
            </ColumnListItem>
            </items>
        </Table>
    <beginButton>
        <Button
            type="Accept"
            text="{i18n>validateButton}"
            press="onAcceptStep2Dialog"
            enabled="{= !${masterModel>/validations/step2/v1} ||
                        !${masterModel>/validations/step2/v2} ||
                        !${masterModel>/validations/step2/v3} ||
                        !${masterModel>/validations/step2/v4} ||
                        !${masterModel>/validations/step2/v5} ||
                        !${masterModel>/validations/step2/v6} ||
                        !${masterModel>/validations/step2/v7} ||
                        !${masterModel>/validations/step2/values/t1} ||
                        !${masterModel>/validations/step2/values/t2} ||
                        !${masterModel>/validations/step2/values/t3} ||
                        !${masterModel>/validations/step2/values/t4} ||
                        !${masterModel>/validations/step2/values/t5} ||
                        !${masterModel>/validations/step2/values/t6} ||
                        !${masterModel>/validations/step2/values/t7}
                        ? false:true}" />
    </beginButton>
    <endButton>
        <Button
            id="step2"
            type="Reject"
            text="{i18n>closeButton}"
            press="onCloseDialog" />
    </endButton>
   </Dialog>
</core:FragmentDefinition>